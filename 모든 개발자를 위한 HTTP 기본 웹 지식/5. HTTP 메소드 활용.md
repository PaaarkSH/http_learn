# HTTP λ©”μ†λ“ ν™μ©

# ν΄λΌμ΄μ–ΈνΈμ—μ„ μ„λ²„λ΅ λ°μ΄ν„° μ „μ†΅

## λ°μ΄ν„° μ „λ‹¬ λ°©μ‹μ€ ν¬κ² 2κ°€μ§€

- μΏΌλ¦¬ νλΌλ―Έν„°λ¥Ό ν†µν• λ°μ΄ν„° μ „μ†΅
    - GET
    - μ£Όλ΅ μ •λ ¬ ν•„ν„°(κ²€μƒ‰μ–΄)
- λ©”μ„Έμ§€ λ°”λ””λ¥Ό ν†µν• λ°μ΄ν„° μ „μ†΅
    - POST PUT PATCH
    - νμ› κ°€μ…, μƒν’ μ£Όλ¬Έ, λ¦¬μ†μ¤ λ“±λ΅, λ¦¬μ†μ¤ λ³€κ²½

## 4κ°€μ§€ μƒν™©

- μ •μ  λ°μ΄ν„° μ΅°ν
    - μ΄λ―Έμ§€ μ •μ  ν…μ¤νΈ λ¬Έμ„
- λ™μ  λ°μ΄ν„° μ΅°ν
    - μ£Όλ΅ κ²€μƒ‰, κ²μ‹ν λ©λ΅μ—μ„ μ •λ ¬ ν•„ν„°(κ²€μƒ‰μ–΄)
- HTML Form μ„ ν†µν• λ°μ΄ν„° μ „μ†΅
    - νμ› κ°€μ…, μƒν’ μ£Όλ¬Έ, λ°μ΄ν„° λ³€κ²½
- HTTP API λ¥Ό ν†µν• λ°μ΄ν„° μ „μ†΅
    - νμ› κ°€μ… μƒν’μ£Όλ¬Έ λ°μ΄ν„° λ³€κ²½
    - μ„λ²„ to μ„λ²„, μ•± ν΄λΌμ΄μ–ΈνΈ, μ›Ή ν΄λΌμ΄μ–ΈνΈ(AJAX)

## μ •μ  λ°μ΄ν„° μ΅°ν

### μΏΌλ¦¬ νλΌλ―Έν„° λ―Έμ‚¬μ©

- μ΄λ° μ •μ  λ°μ΄ν„° μ΅°νμ‹μ—λ” μΏΌλ¦¬ νλΌλ―Έν„°κ°€ ν•„μ”κ°€ μ—†μ

### μ •λ¦¬

- μ΄λ―Έμ§€ μ •μ  ν…μ¤νΈ λ¬Έμ„
- μ΅°νλ” GET μ‚¬μ©
- μ •μ  λ°μ΄ν„°λ” μΌλ°μ μΌλ΅ μΏΌλ¦¬ νλΌλ―Έν„° μ—†μ΄ λ¦¬μ†μ¤ κ²½λ΅λ¥Ό λ‹¨μν•κ² μ΅°ν κ°€λ¥

## λ™μ  λ°μ΄ν„° μ΅°ν

### μΏΌλ¦¬ νλΌλ―Έν„° μ‚¬μ©

- μΏΌλ¦¬ νλΌλ―Έν„°λ¥Ό ν†µν• http λ©”μ„Έμ§€ μ „λ‹¬

### μ •λ¦¬

- μ£Όλ΅ κ²€μƒ‰, κ²μ‹ν λ©λ΅μ—μ„ μ •λ ¬ ν•„ν„°(κ²€μƒ‰μ–΄)
    - κ²€μƒ‰μ–΄: ν•„ν„°
        - μ΅°ν μ΅°κ±΄μ„ μ¤„μ΄λ” λ©μ 
- μ΅°ν μ΅°κ±΄μ„ μ¤„μ—¬μ£Όλ” ν•„ν„°, μ΅°ν κ²°κ³Όλ¥Ό μ •λ ¬ν•λ” μ •λ ¬ μ΅°κ±΄μ— μ£Όλ΅ μ‚¬μ©
- μ΅°νλ” GET μ‚¬μ©
- GET μ€ μΏΌλ¦¬ νλΌλ―Έν„°λ¥Ό μ‚¬μ©ν•΄μ„ λ°μ΄ν„°λ¥Ό μ „λ‹¬
    - λ°”λ””λ¥Ό ν†µν•΄μ„ μ „λ‹¬ ν•  μλ” μμ§€λ§ κ¶μ¥μ€ μ•ν•¨

## HTML Form λ°μ΄ν„° μ „μ†΅

### POST μ „μ†΅ - μ €μ¥

- html ν•νƒλ΅ μ „μ†΅ μμ‹
- content-type: x-www-form-urlencoded
- λ©”μ‹μ§€ λ°”λ””μ— μΏΌλ¦¬ νλΌλ―Έν„°λ¥Ό url encode ν• ν•μ‹μΌλ΅ λ„£μ–΄λ†“μ
    - ν•κΈ€κ°™μ€κ² λ“¤μ–΄κ°€λ©΄ μΈμ½”λ”© λμ„ λ„μ–΄κ°

### GET μ „μ†΅ - μ €μ¥

- get μΌλ΅ μ €μ¥μ‹ url μ— μΏΌλ¦¬νλΌλ―Έν„° λ“¤μ–΄κ°
- get μ€ μ΅°νμ—λ§ μ‚¬μ©

### multipart/form-data

- νμΌμ„ μ „μ†΅ν• λ• μ“°λ” νƒ€μ…
- boundary λΌλ” μ„¤μ •κ°’μ΄ μλ”λ° ν•΄λ‹Ή μ„¤μ •κ°’μΌλ΅ λ°μ΄ν„°λ¥Ό μλΌμ„ μ½μ
    - β€”-XXX λ΅ μ„¤μ •ν•λ©΄ λ°μ΄ν„°λ¥Ό μ—¬λ¬ μ΅°κ°μΌλ΅(λ©€ν‹° ννΈ) μλΌμ„ μ½μ
- μ£Όλ΅ λ°”μ΄ν„°λ¦¬ λ°μ΄ν„°λ¥Ό μ½μ„λ• μ‚¬μ©

### μ •λ¦¬

- HTML FORM submit POST μ „μ†΅
    - μ) νμ›κ°€μ… μƒν’ μ£Όλ¬Έ λ°μ΄ν„°λ³€κ²½
- Content-Type: application/x-www-form-urlencoded μ‚¬μ©
    - form μ λ‚΄μ©μ„ λ©”μ„Έμ§€ λ°”λ””λ¥Ό ν†µν•΄μ„ μ „μ†΅(key value μΏΌλ¦¬ νλΌλ―Έν„° ν•μ‹)
    - μ „μ†΅ λ°μ΄ν„°λ¥Ό url encoding μ²λ¦¬
        - μ) abc κΉ€ β†’ abc%EA%b9%80
- HTML Formμ€ GET μ „μ†΅λ„ κ°€λ¥
- Content-Type: multipart/form-data
    - νμΌ μ—…λ΅λ“ κ°™μ€ λ°”μ΄λ„λ¦¬ λ°μ΄ν„° μ „μ†΅μ‹ μ‚¬μ©
    - λ‹¤λ¥Έ μΆ…λ¥μ μ—¬λ¬ νμΌκ³Ό νΌμ λ‚΄μ© ν•¨κ» μ „μ†΅ κ°€λ¥(κ·Έλμ„ μ΄λ¦„μ΄ multipart)
- **μ°Έκ³ : HTML Form μ „μ†΅μ€ GET POST λ§ μ§€μ›**
    - get post μ™Έμ λ©”μ†λ“λ” μ§€μ› μ•ν•¨

## HTTP API λ°μ΄ν„° μ „μ†΅

### μ •λ¦¬

- μ„λ²„ to μ„λ²„
    - λ°±μ—”λ“ μ‹μ¤ν… ν†µμ‹ 
        - κ°€μ¥ λ§μ΄ μ‚¬μ©
        - μ„λ²„λΌλ¦¬ ν†µμ‹ ν• λ• HTML ν†µμ‹ ν• κ² μ—†μΌλ‹
- μ•± ν΄λΌμ΄μ–ΈνΈ
    - μ•„μ΄ν° μ•λ“λ΅μ΄λ“
- μ›Ή ν΄λΌμ΄μ–ΈνΈ
    - HTML μ—μ„ Form μ „μ†΅ λ€μ‹  μλ°” μ¤ν¬λ¦½νΈλ¥Ό ν†µν• ν†µμ‹ μ— μ‚¬μ© AJAX
    - react vue κ°™μ€ μ›Ή ν΄λΌμ΄μ–ΈνΈμ™€ ν†µμ‹ 
- POST PUT PATCH: λ©”μ„Έμ§€ λ°”λ””λ¥Ό ν†µν•΄ λ°μ΄ν„° μ „μ†΅
- GET: μ΅°ν μΏΌλ¦¬ νλΌλ―Έν„°λ΅ λ°μ΄ν„° μ „λ‹¬
- Content-Type: application/json μ£Όλ΅ μ‚¬μ©(μ‚¬μ‹¤μƒ ν‘μ¤€)
    - TEXT XML JSON λ“±λ“±
    - μμ „μ—λ” XML μ„ κ°€μ¥ λ§μ΄ μ”€
        - AJAX λ§μ € λ§μ§€λ§‰ κΈ€μκ°€ XML μ„
        - μ½κΈ° μ‰½μ§€ μ•κ³  json μ΄ ν¬κΈ°λ„ μ‘κ³  μ½κΈ° μ‹¬ν”ν•¨
    - μ§€κΈμ€ μ‚¬μ‹¤μƒ json μ΄ ν‘μ¤€μ„

# HTTP API μ„¤κ³„ μμ‹

## μμ‹

- HTTP API - μ»¬λ ‰μ…
    - post κΈ°λ° λ“±λ΅
        - μ) νμ› κ΄€λ¦¬ API μ κ³µ
        - μ €μ¥ν• λ• μ‚¬μ©λ„ μ΅°νν• λ•λ„ μ‚¬μ© κ°€λ¥ν•΄μ„ μ •μ ν•λ”κ² μ¤‘μ”
- HTTP API - μ¤ν† μ–΄
    - PUT κΈ°λ° λ“±λ΅
    - μ) μ •μ  μ»¨ν…μΈ  κ΄€λ¦¬, μ›κ²© νμΌ κ΄€λ¦¬
- HTML FORM μ‚¬μ©
    - μ›Ή νμ΄μ§€ νμ› κ΄€λ¦¬
    - GET POST λ§ μ§€μ›

## νμ› κ΄€λ¦¬ μ‹μ¤ν…

### API μ„¤κ³„ - POST κΈ°λ° λ“±λ΅

- **νμ›** λ©λ΅ μ΅°ν: /members β†’ GET
    - κ²€μƒ‰μ–΄λ¥Ό μΏΌλ¦¬ νλΌλ―Έν„°λ΅ λ„£λ„λ΅ μ„¤κ³„ν•λ”κ² μΆ‹μ
    - κ²€μƒ‰μ–΄ ν•„ν„°λ‚ μ •λ ¬ λ°©λ²•
- **νμ›** λ“±λ΅: /members/{id} β†’ POST
    - /members λ¥Ό μ»¬λ ‰μ…μ΄λΌ λ¶€λ¦„
- **νμ›** μ΅°ν: /members/{id} β†’ GET
    - μ΅°νν•  id λ¥Ό λ„£μ–΄μ„ μ΅°νν•λ©΄ λ¨
- **νμ›** μμ •: /members/{id} β†’ PATCH PUT POST
    - μ—¬κΈ°μ„ κ³ λ―Όμ„ μΆ€ ν•΄μ•Όν•¨
    - patch
        - κ°λ…μ μΌλ΅λ” νμ›μ μ •λ³΄λ¥Ό μμ •ν•  κ²½μ°λ” PATCH κ°€ κ°€μ¥ μΆ‹μ
    - PUT
        - μ •λ³΄λ¥Ό μ—λ” κ²½μ°μΌ κ²½μ°λ” PUT μ΄ μΆ‹μ
        - κ²μ‹νμ„ μμ •ν•λ” κ²½μ°
            - μμ •λ μ •λ³΄λ¥Ό λ‹¤ λ„£μ„ κ²½μ°
    - POST
        - μ΄λ„ μ €λ„ μ•„λ‹κ³  μ• λ§¤ν• κ²½μ°
- **νμ›** μ‚­μ : /members/{id} β†’ DELETE
    - μ‚­μ ν•  νμ›μ id λ¥Ό λ„£μ–΄μ„ μ‚­μ ν•λ©΄ λ¨

## POST - μ‹ κ· μμ› λ“±λ΅ νΉμ§•

- **ν΄λΌμ΄μ–ΈνΈλ” λ“±λ΅λ  λ¦¬μ†μ¤μ URI λ¥Ό λ¨λ¥Έλ‹¤**
    - νμ› λ“±λ΅ /members β†’ POST
    - POST
- μ„λ²„κ°€ μƒλ΅ λ“±λ΅λ λ¦¬μ†μ¤ URI λ¥Ό μƒμ„±ν•΄μ¤€λ‹¤
    
    HTTP 1.1 201 Created
    Location: /members/100
    
- μ»¬λ ‰μ…(Collection)
    - μ„λ²„κ°€ κ΄€λ¦¬ν•λ” λ¦¬μ†μ¤ λ””λ ‰ν„°λ¦¬
    - μ„λ²„κ°€ λ¦¬μ†μ¤μ URI λ¥Ό μƒμ„±ν•κ³  κ΄€λ¦¬
    - μ—¬κΈ°μ„ μ»¬λ ‰μ…μ€ /members

## λ¦¬μ†μ¤ λ“±λ΅

- λ©”μ‹μ§€ λ“±λ΅
    - λ°”λ””μ— λ°μ΄ν„°λ¥Ό λ°›μ•„μ„ μ„λ²„λ΅ μ €μ¥
    - λ¦¬μ†μ¤μ— λ§λ” μ •λ³΄λ¥Ό DB μ— μ €μ¥
    - μ‘λ‹µ λ°μ΄ν„°μ— Location μΌλ΅ λ„κΈ°κ±°λ‚ μ‘λ‹µλ°μ΄ν„° λ°”λ””μ— λ„κΈ°κΈ°λ„ ν•¨
- ν¬μ¤νΈλ΅ λ°μ΄ν„° λ“±λ΅ν• λ–„λ” μ„λ²„μ—μ„ URI λ¥Ό κ²°μ •ν•΄μ„ λ¦¬ν„΄ν•¨
    - Location: /members/100
        - μ΄λ° μ‹μΌλ΅
- **ν΄λΌμ΄μ–ΈνΈλ” λ“±λ΅λ  λ¦¬μ†μ¤μ URI λ¥Ό λ¨λ¦„**
    - μ„λ²„κ°€ μƒλ΅­κ² λ“±λ΅λ  URI μ λ¦¬μ†μ¤λ¥Ό ν•μ„±ν•΄μ¤

## PUT κΈ°λ° λ“±λ΅

- **νμΌ** λ©λ΅ μ΅°ν: /files β†’ GET
- **νμΌ** μ΅°ν: /files/{filesname} β†’ GET
- **νμΌ** λ“±λ΅: /files/{filesname} β†’ PUT
    - νμΌμ„ λ“±λ΅ν•  κ²½μ° νμΌμ μ •λ³΄λ” ν΄λΌμ΄μ–ΈνΈλ§ μ•κ³ μκΈ°μ— put μ‚¬μ©
    - κΈ°μ΅΄κ² μ—†μΌλ©΄ μƒμ„±ν•κ³  μμΌλ©΄ μ—λ” λ°©μ‹
- **νμΌ** μ‚­μ : /files/{filesname} β†’ DELETE
- **νμΌ** λ€λµ λ“±λ΅: /files β†’ POST
    - μλ―Έλ¥Ό μ„μλ΅ μ§€μ •ν•  μ μμ

### put - μ‹ κ· μμ› λ“±λ΅ νΉμ§•

- **ν΄λΌμ΄μ–ΈνΈκ°€ λ¦¬μ†μ¤ URI λ¥Ό μ•κ³  μμ–΄μ•Ό ν•λ‹¤**
    - νμΌ λ“±λ΅ /files{filename} β†’ PUT
        - ν•΄λ‹Ή URI λ¥Ό λ„κ°€ μ•κ³ μλ‚? ν΄λΌμ΄μ–ΈνΈ
    - PUT /files/star.jpg
- ν΄λΌμ΄μ–ΈνΈκ°€ μ§μ ‘ λ¦¬μ†μ¤μ URI λ¥Ό μ§€μ •ν•λ‹¤
    - λ°λ©΄μ— POST λ” μ„λ²„κ°€ λ¦¬μ†μ¤μ URI λ¥Ό λ§λ“¤μ–΄μ„ λ¦¬ν„΄ν•¨
- μ¤ν† μ–΄(Store)
    - μ΄λ° νμΌ κ΄€λ¦¬ μ¤νƒ€μΌμ„ μ¤ν† μ–΄λΌκ³  ν•¨
    - ν΄λΌμ΄μ–ΈνΈκ°€ κ΄€λ¦¬ν•λ” λ¦¬μ†μ¤μ μ €μ¥μ†
    - ν΄λΌμ΄μ–ΈνΈκ°€ λ¦¬μ†μ¤μ URI λ¥Ό μ•κ³  κ΄€λ¦¬
    - μ—¬κΈ°μ„ μ¤ν† μ–΄λ” /files

<aside>
π’΅ λ€λ¶€λ¶„ POST κΈ°λ°μΌλ΅ λ§λ“ λ‹¤

</aside>

## HTML FORM μ‚¬μ©

- HTML FORM μ€ GET POST λ§ μ§€μ›
- AJAX κ°™μ€ κΈ°μ μ„ μ‚¬μ©ν•΄μ„ ν•΄κ²° κ°€λ¥ β†’ νμ› API μ°Έκ³ 
- μ—¬κΈ°μ„λ” μμ HTML, HTML FORM μ΄μ•ΌκΈ°
- GET POST λ§ μ§€μ›ν•λ―€λ΅ μ μ•½μ΄ μμ

### μμ‹

- **νμ›** λ©λ΅ /members **-> GET**
- **νμ›** λ“±λ΅ νΌ /members/new **> GET**
- **νμ›** λ“±λ΅ /members/new, /members **> POST**
- **νμ›** μ΅°ν /members/{id} **> GET**
- **νμ›** μμ • νΌ /members/{id}/edit **> GET**
- **νμ›** μμ • /members/{id}/edit, /members/{id} **> POST**
- **νμ›** μ‚­μ  /members/{id}/delete **> POST**

### μ‚¬μ©λ²•

- HTML FORM GET POST λ§ μ§€μ›
- **μ»¨νΈλ΅¤ URI**
    - GET POST λ§ μ§€μ›ν•λ―€λ΅ μ μ•½μ΄ μμ
    - μ΄λ° μ μ•½μ„ ν•΄κ²°ν•κΈ° μ„ν•΄ **λ™μ‚¬λ΅ λ λ¦¬μ†μ¤ κ²½λ΅ μ‚¬μ©**
    - POST μ new edit delete κ°€ μ»¨νΈλ΅¤ URI
        - μ• λ§¤ν•λ‹¤κ³  κ³„μ† μ‚¬μ©ν•λ©΄ μ•λ¨
        - μµλ€ν• λ¦¬μ†μ¤λΌλ” κ°λ…μ„ κ°€μ§€κ³  URI λ¥Ό μ„¤κ³„ν•κ³  κ·Έ μƒν™©μ—μ„ μ• λ  λ• μ»¨νΈλ΅¤ URI λ¥Ό λ€μ²΄μ λ΅ μ‚¬μ©
    - HTTP λ©”μ†λ“λ΅ ν•΄κ²°ν•κΈ° μ• λ§¤ν• κ²½μ° μ‚¬μ©(HTTP API ν¬ν•¨

## μ •λ¦¬

### μ°Έκ³ ν•λ©΄ μΆ‹μ€ URI μ„¤κ³„ κ°λ…

- **λ¬Έμ„**
    - λ‹¨μ„ κ°λ…
        - νμΌ ν•λ‚, κ°μ²΄ μΈμ¤ν„΄μ¤, λ°μ΄ν„° λ² μ΄μ¤
- **μ»¬λ ‰μ…**
    - μ„λ²„κ°€ κ΄€λ¦¬ν•λ” λ¦¬μ†μ¤ λ””λ ‰ν„°λ¦¬
        - μ„λ²„κ°€ λ‹¤ κ²°μ •ν•¨
    - μ„λ²„κ°€ λ¦¬μ†μ¤μ URI λ¥Ό μƒμ„±ν•κ³  κ΄€λ¦¬
        - ex) /members
- **μ¤ν† μ–΄**
    - ν΄λΌμ΄μ–ΈνΈκ°€ κ΄€λ¦¬ν•λ” μμ› μ €μ¥μ†
    - ν΄λΌμ΄μ–ΈνΈκ°€ λ¦¬μ†μ¤μ URI λ¥Ό μ•κ³  κ΄€λ¦¬
        - ex) /files
- **μ»¨νΈλ΅¤λ¬, μ»¨νΈλ΅¤ URI**
    - λ¬Έμ„, μ»¬λ ‰μ…, μ¤ν† μ–΄λ΅ ν•΄κ²°ν•κΈ° μ–΄λ ¤μ΄ μ¶”κ°€ ν”„λ΅μ„Έμ¤ μ‹¤ν–‰
        - **μ°λ¦¬κ°€ λ¨Έλ¦¬λ΅λ” μΆ‹μ€ λ°©λ²•μ΄ μ•μ§€λ§ μ‹¤λ¬΄μ—μ„ λ³µμ΅ν• ν™κ²½μ— λ†“μ΄λ©΄ μ΄κ²ƒλ§μΌλ΅ μ•λ  κ²½μ°κ°€ λ§μ**
    - λ™μ‚¬λ¥Ό μ§μ ‘ μ‚¬μ©
    - ex) /members/{id}/delete

<aside>
π’΅ μ΄κ² μ •λ‹µμ€ μ•„λ‹μ§€λ§ URI λ¥Ό λ§λ“¤λ• μ •λ¦¬ν•κΈ° μΆ‹μ

</aside>